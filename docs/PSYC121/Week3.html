<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistics for Psychologists – week3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Images/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Statistics for Psychologists</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../PSYC121/week1.html" aria-current="page">PSYC121</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../PSYC122/week1.html">PSYC122</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../PSYC214/week1.html">PSYC214</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../PSYC401/week1.html">PSYC401</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../PSYC402/week1.html">PSYC402</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources.html">Resources</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">(Untitled)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">PSYC121</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week1.html" class="sidebar-item-text sidebar-link">Week 1 - Introduction to PSYC121</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week2.html" class="sidebar-item-text sidebar-link">Week 2: Descriptive statistics in RStudio</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week3.html" class="sidebar-item-text sidebar-link active">Week 3: DVs and IVs in RStudio</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week4.html" class="sidebar-item-text sidebar-link">Week 4: Customisation of graphs, and z-scores</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week5.html" class="sidebar-item-text sidebar-link">Week 5: Class test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week6.html" class="sidebar-item-text sidebar-link">Week 6: Sampling, probability and binomial tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week7.html" class="sidebar-item-text sidebar-link">Week 7: Filtering data and testing means (one-sample t-test)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week8.html" class="sidebar-item-text sidebar-link">Week 8: Related-samples t-tests, plotting means and SE bars</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC121/week9.html" class="sidebar-item-text sidebar-link">Week 9: Unrelated-samples t-test and Power</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">PSYC122</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  TBC
  </li>
          <li class="sidebar-item">
  TBD
  </li>
          <li class="sidebar-item">
  TBE
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#week-3-dvs-and-ivs-in-rstudio" id="toc-week-3-dvs-and-ivs-in-rstudio" class="nav-link active" data-scroll-target="#week-3-dvs-and-ivs-in-rstudio">Week 3: DVs and IVs in RStudio</a>
  <ul class="collapse">
  <li><a href="#pre-lab-work" id="toc-pre-lab-work" class="nav-link" data-scroll-target="#pre-lab-work">Pre-lab work</a></li>
  <li><a href="#r-studio-tasks" id="toc-r-studio-tasks" class="nav-link" data-scroll-target="#r-studio-tasks">R Studio tasks</a>
  <ul class="collapse">
  <li><a href="#task-1---more-with-the-penelope22-data" id="toc-task-1---more-with-the-penelope22-data" class="nav-link" data-scroll-target="#task-1---more-with-the-penelope22-data">Task 1 - More with the penelope22 data</a></li>
  <li><a href="#task-3---phone-use-data" id="toc-task-3---phone-use-data" class="nav-link" data-scroll-target="#task-3---phone-use-data">Task 3 - Phone Use data</a></li>
  <li><a href="#task-4---final-challenge-visualisation" id="toc-task-4---final-challenge-visualisation" class="nav-link" data-scroll-target="#task-4---final-challenge-visualisation">Task 4 - Final challenge: visualisation</a></li>
  <li><a href="#now-youre-finished" id="toc-now-youre-finished" class="nav-link" data-scroll-target="#now-youre-finished">Now you’re finished …</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="week-3-dvs-and-ivs-in-rstudio" class="level1">
<h1>Week 3: DVs and IVs in RStudio</h1>
<blockquote class="blockquote">
<p>Written by John Towse &amp; Tom Beesley</p>
</blockquote>
<section id="pre-lab-work" class="level2">
<h2 class="anchored" data-anchor-id="pre-lab-work">Pre-lab work</h2>
<p>Last week we asked you to</p>
<ul>
<li>Use a script to run instructions in RStudio</li>
<li>Put data into RStudio form a data file and explore how to run descriptive stats</li>
</ul>
<p>This week - again, there’s a learnr tutorial to follow and help prep for this week’s activities <a href="https://ma-rconnect.lancs.ac.uk/W3LabPrep/" target="_blank">You can find it here</a></p>
</section>
<section id="r-studio-tasks" class="level2">
<h2 class="anchored" data-anchor-id="r-studio-tasks">R Studio tasks</h2>
<p>For the “penelope22” data in week 2, we provided you with estimates data, and you were able to generate descriptive statistics for the estimates (if not, please go back and work through that part of the week 2 lab sheet again). You also found the weight estimates for the female and non-female guesses, right?</p>
<p>However, in order to find the estimates separately for gender identity, we needed to have a column for each gender category. Whilst that worked, it could get cumbersome over time always to work with data created like that.</p>
<p><em>There is a better way…</em></p>
<section id="task-1---more-with-the-penelope22-data" class="level3">
<h3 class="anchored" data-anchor-id="task-1---more-with-the-penelope22-data">Task 1 - More with the penelope22 data</h3>
<p>Step 1. This week, we again want to explore commands from the tidyverse library (toolkit) which can help us do more powerful things more elegantly. So let’s get R to work with the tidyverse library</p>
<p><code>library(tidyverse)</code></p>
<p>Step 2. Explore help() commands. R can give you more information about how it works.</p>
<p>Step 3. Creating a project and a folder, and setting the working directory</p>
<p>Step 4. Bring the <code>week3.zip</code> file into R Studio server. Like last week, upload the zip file, and launch the R script.<a href="files/Week_3/week_3.zip">You can get the file here</a></p>
<p>Step 5. Read or load the penelope data into R. Have a look at it using the View() command in the script</p>
<p>This time, let’s ask for the estimate data arranged by identity:</p>
<p><code>aggregate(x = *MISSING*2$estimate, by = list(*MISSING*$identity), FUN = mean)</code></p>
<p>First, let’s try this (you will need to use your object name in place of MISSING). What do you get? Does this match what we did last week when we calculated the mean for the <em>female</em> and for the <em>other</em> (i.e., non-female) group?</p>
<p>Second, let’s look at what is happening here:</p>
<p><code>aggregate</code> This is a command to call for descriptive statistics</p>
<p><code>x=</code> This defines what column we are analyzing</p>
<p><code>by=list</code> Now we tell R how to group the estimate data, and which column does that</p>
<p><code>FUN=mean</code> Specifies which descriptive function is being asked for Can you explore whether you can call on alternate measures?)</p>
<section id="group_by" class="level4">
<h4 class="anchored" data-anchor-id="group_by">group_by()</h4>
<p>There’s another way that also allows us to group scores by a (nominal) variable. This is explored in the learnr tutorial, which should help you create the command the get weight estimates broken down by gender identity. You need to define the data frame for the estimates data, and the gender IV and the estimates DV</p>
<p><code>*MISSING* %&gt;% group_by(*MISSING*) %&gt;% summarise(mean_estimate = mean(*MISSING*))</code></p>
<p>First, try this command and see what you get. If you run this command as entered, it won’t work. So now use your experience at skills from the above and the learnr tutorial to work out what is required.</p>
<p>Note</p>
<p><code>%&gt;%</code> This is called a “pipe operator”, basically take the output from the left and feed it into the requests on the right. <code>Summarise</code> Provide summary statistics information for the specified variable as specified (whether mean, median etc)</p>
</section>
<section id="the-assignment-operator" class="level4">
<h4 class="anchored" data-anchor-id="the-assignment-operator">The assignment operator</h4>
<p>As well as learning about the pipe operator, we want to remind you /draw attention explicitly to another important element of the R command line syntax: the assignment operator. Uing a command such as</p>
<p><code>cows &lt;- read_csv("penelope22.csv")</code></p>
<p>looks for the csv datafile called ‘penelope22’, and assign it to an object or variable called ‘cows’</p>
<p>We could create any object name we wanted (within limits of names already known to RStudio). It isn’t just for reading in data files, we can perform a whole range of functions and assign them to an object.</p>
</section>
<section id="task-2---salary-data" class="level4">
<h4 class="anchored" data-anchor-id="task-2---salary-data">Task 2 - Salary data</h4>
<p>Using aggregate and summarise may not seem like much progress, because they are just replicating what we had already done with mean() is week 2. However (a) this emphasizes that there are often several ways to get at the same thing in R (b) now we know about grouping, about working with 2-dimensional data, we can start to do more efficient and informative things.</p>
<p>Now, let’s turn to the guesses made about median salary in the UK. We can get the data from the file “wages” in the week_3.zip file (you will need to adapt the code in the script for the penelope data so that it will load in the wages data)</p>
<p>Let’s take a peek at the dataset with</p>
<p><code>glimpse(wages)</code></p>
<p>Glimpse pretty much does what you might think from the meaning of the word – it just gives us a data sample (handy because this is a much bigger dataset) and shows that we have 3 columns; uk_region (where someone lives, note ‘other’ probably equals Northern Ireland, Europe, China, etc), family_position (age relationship with siblings), and salary (estimate).</p>
<p>By the way, the govt statistics say the actual median income in 2019 was approx. £30,350 <a href="https://www.statista.com/statistics/1002964/average-full-time-annual-earnings-in-the-uk/" target="_blank">see this link</a></p>
<ol type="A">
<li><p>Writing into your script, use the working “aggregate” commands from task 1 with the penelope weight data to find out the salary guesses as a function of where someone lives? That is, can you adapt that code for this problem? First, make sure you read in the data file into an R object.</p></li>
<li><p>Can you use the aggregate command to find out salary guess as a function of family relationships? (if you are the youngest child maybe you have older siblings earning money that changes your evaluation?)</p></li>
<li><p>Can you get a breakdown of guess as a function of BOTH UK region AND family relationship together?</p></li>
<li><p>Can you use the <code>group by()</code> command to display salary guesses as a function of where someone lives? Check this this gives you the same answer</p></li>
</ol>
</section>
</section>
<section id="task-3---phone-use-data" class="level3">
<h3 class="anchored" data-anchor-id="task-3---phone-use-data">Task 3 - Phone Use data</h3>
<ol start="5" type="A">
<li><p>Datset 3: Use the dataset of phone screen time usage to further explore and consolidate the group_by() command (ie we’ll drop the aggregate command for this task to focus on group_by(). Adapt script lines from the above two tasks to read in and calculate screen time usage as a function of the type of phone.</p></li>
<li><p>Use RStudio to figure out the overall mean salary estimate and the standard deviation. Calculate by hand what salary estimate would have a z score of z=-1.5?</p></li>
</ol>
</section>
<section id="task-4---final-challenge-visualisation" class="level3">
<h3 class="anchored" data-anchor-id="task-4---final-challenge-visualisation">Task 4 - Final challenge: visualisation</h3>
<p>Can you find a way to visualise the screentime usage data that you have been working with above? The script provides two ways to consider doing this - boxplots (which we have looked at in script commands already) and ggplot, which we have spent less time with but is an extremely powerful engine for creating plots. We’ve provided the start of the code in each case, leaving you to work out the specifics. Remember to annotate your creations!</p>
</section>
<section id="now-youre-finished" class="level3">
<h3 class="anchored" data-anchor-id="now-youre-finished">Now you’re finished …</h3>
<p>Remember to complete your notes in the script, save the script file, and end the server session.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Website developed by Matthew Ivory</div>   
      <div class="nav-footer-center">Link 1</div>
    <div class="nav-footer-right">GithubLink</div>
  </div>
</footer>



</body></html>